{"ast":null,"code":"var _jsxFileName = \"/home/pat/Desktop/penny_stocks/web/src/cards/CardLineChart.js\";\nimport React, { useEffect, useState } from \"react\";\nimport { ComposedChart, Line, Area, Bar, XAxis, YAxis, CartesianGrid, Tooltip, Legend, Scatter, ResponsiveContainer } from 'recharts';\nimport { faArrowCircleRight, faArrowCircleLeft } from \"@fortawesome/free-solid-svg-icons\";\nimport { FontAwesomeIcon } from \"@fortawesome/react-fontawesome\";\nexport default function CardLineChart(props) {\n  const [data, setData] = useState([]);\n  const [master, setMaster] = useState([]);\n  const [refAreaLeft, setRefAreaLeft] = useState();\n  const [refAreaRight, setRefAreaRight] = useState();\n  const [refArea, setRefArea] = useState([]);\n  const [zoomIn, setZoomIn] = useState('false');\n  const [moveRight, setMoveRight] = useState('false');\n  useEffect(() => {\n    formatData(props.stockData);\n    makeMaster(props.stockData);\n    console.log(data);\n  }, [props.stockData]);\n\n  function makeMaster(dats) {\n    setMaster([]);\n    const arr = [];\n\n    for (let x = 0; x < dats.length; x++) {\n      const ao = parseFloat(dats[x][0].split('/')[0]);\n      const price = parseFloat(dats[x][4].split(':')[1]);\n      const dic = {\n        'ticker': dats[x][1].split(':')[1].split('/')[0],\n        'ao': parseFloat(dats[x][0].split('/')[0]) > 10 || parseFloat(dats[x][0].split('/')[0]) < -10 ? parseFloat(dats[x][0].split('/')[0]) < 0 ? -5 : 5 : parseFloat(dats[x][0].split('/')[0]),\n        'price': parseFloat(dats[x][4].split(':')[1]),\n        'percent': Math.abs(Math.round(ao / price * 100000) / 1000) > 1 ? 1 : Math.abs(Math.round(ao / price * 100000) / 1000) * 5\n      };\n      arr.push(dic);\n      master.push(dic);\n    }\n\n    setMaster(arr);\n    console.log(data);\n  }\n\n  function formatData(dats, _ind) {\n    setData([]);\n    const arr = [];\n\n    for (let x = 0; x < dats.length; x++) {\n      const ao = parseFloat(dats[x][0].split('/')[0]);\n      const price = parseFloat(dats[x][4].split(':')[1]);\n      const dic = {\n        'ticker': dats[x][1].split(':')[1].split('/')[0],\n        'ao': parseFloat(dats[x][0].split('/')[0]) > 10 || parseFloat(dats[x][0].split('/')[0]) < -10 ? parseFloat(dats[x][0].split('/')[0]) < 0 ? -5 : 5 : parseFloat(dats[x][0].split('/')[0]),\n        'price': parseFloat(dats[x][4].split(':')[1]),\n        'percent': Math.abs(Math.round(ao / price * 100000) / 1000) > 1 ? 1 : Math.abs(Math.round(ao / price * 100000) / 1000) * 5\n      };\n      arr.push(dic);\n      data.push(dic);\n    }\n\n    setData(arr);\n    console.log(data);\n  }\n\n  ;\n\n  function zoom() {\n    console.log(refArea[0]);\n    console.log(refArea[1]);\n    const arr = [];\n\n    for (let i = 0; i < data.length; i++) {\n      if (master[i].ticker === refArea[1] || master[i].ticker === refArea[0]) {\n        arr.push(i);\n      }\n    }\n\n    console.log(arr);\n    setZoomIn('true');\n    setData(master.slice(arr[0], arr[1]));\n  }\n\n  ;\n\n  function zoomOut() {\n    setZoomIn('false');\n    formatData(props.stockData);\n  }\n\n  ;\n\n  function panLeft() {\n    if (zoomIn === 'true') {\n      setMoveRight('true');\n\n      while (moveRight === 'true') {\n        setInterval(() => {\n          console.log(2);\n        }, 500);\n      }\n    }\n\n    ;\n  }\n\n  function panRight() {\n    if (zoomIn === 'true') {\n      console.log('hit');\n      const new_refs = [];\n\n      for (let i = 0; i < master.length; i++) {\n        if (master[i]['ticker'] === refArea[0]) {\n          new_refs.push(master[i + 1]['ticker']);\n        }\n\n        ;\n\n        if (master[i]['ticker'] === refArea[1]) {\n          new_refs.push(master[i + 1]['ticker']);\n        }\n      }\n\n      ;\n      console.log(new_refs);\n      setRefArea;\n      zoom();\n    }\n  }\n\n  useEffect(() => {\n    const timer = setInterval(() => {\n      if (moveRight === 'true') {\n        panRight();\n      }\n\n      ;\n    }, 1000); // clearing interval\n\n    return () => clearInterval(timer);\n  }, [moveRight]);\n  return /*#__PURE__*/React.createElement(React.Fragment, null, /*#__PURE__*/React.createElement(\"div\", {\n    style: {\n      width: '100%',\n      height: '100%'\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 127,\n      columnNumber: 5\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    style: {\n      position: 'absolute'\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 128,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(\"button\", {\n    onClick: zoomOut,\n    type: \"button\",\n    className: \"btn update\",\n    style: {\n      position: 'absolute',\n      zIndex: '1',\n      backgroundColor: 'darkgray'\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 129,\n      columnNumber: 9\n    }\n  }, \"Zoom Out\"), /*#__PURE__*/React.createElement(\"div\", {\n    style: {\n      height: '15vh'\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 132,\n      columnNumber: 9\n    }\n  }), /*#__PURE__*/React.createElement(\"button\", {\n    onMouseEnter: () => setMoveRight('true'),\n    onMouseLeave: () => setMoveRight('false'),\n    type: \"button\",\n    className: \"btn update\",\n    style: {\n      position: 'absolute',\n      zIndex: '1',\n      height: '10vh'\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 134,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(FontAwesomeIcon, {\n    style: {\n      color: 'red'\n    },\n    className: \"fa fa-arrow-circle-right fa-4x\",\n    icon: faArrowCircleRight,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 135,\n      columnNumber: 11\n    }\n  })), /*#__PURE__*/React.createElement(\"div\", {\n    style: {\n      height: '15vh'\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 137,\n      columnNumber: 9\n    }\n  }), /*#__PURE__*/React.createElement(\"button\", {\n    onClick: panLeft,\n    type: \"button\",\n    className: \"btn update\",\n    style: {\n      position: 'absolute',\n      zIndex: '2',\n      height: '10vh'\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 138,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(FontAwesomeIcon, {\n    style: {\n      color: 'red'\n    },\n    className: \"fa fa-arrow-circle-left fa-4x\",\n    icon: faArrowCircleLeft,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 139,\n      columnNumber: 11\n    }\n  }))), /*#__PURE__*/React.createElement(ResponsiveContainer, {\n    width: \"100%\",\n    height: \"100%\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 142,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(ComposedChart, {\n    onMouseDown: e => setRefAreaLeft(e.activeLabel),\n    onMouseMove: e => refAreaLeft && setRefAreaRight(e.activeLabel) // eslint-disable-next-line react/jsx-no-bind\n    ,\n    onMouseUp: zoom,\n    width: 500,\n    height: 1000,\n    data: data,\n    style: {\n      backgroundColor: '#202020'\n    },\n    margin: {\n      top: 20,\n      right: 20,\n      bottom: 20,\n      left: 20\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 143,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(XAxis, {\n    dataKey: \"ticker\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 161,\n      columnNumber: 11\n    }\n  }), /*#__PURE__*/React.createElement(YAxis, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 162,\n      columnNumber: 11\n    }\n  }), /*#__PURE__*/React.createElement(Tooltip, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 163,\n      columnNumber: 11\n    }\n  }), /*#__PURE__*/React.createElement(Legend, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 164,\n      columnNumber: 11\n    }\n  }), /*#__PURE__*/React.createElement(Bar, {\n    dataKey: \"ao\",\n    barSize: 20,\n    fill: \"#FF0000\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 165,\n      columnNumber: 11\n    }\n  }), /*#__PURE__*/React.createElement(Bar, {\n    dataKey: \"percent\",\n    barSize: 20,\n    fill: \"#C000FF\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 166,\n      columnNumber: 11\n    }\n  }), /*#__PURE__*/React.createElement(Scatter, {\n    dataKey: \"percent\",\n    fill: \"#C000FF\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 167,\n      columnNumber: 11\n    }\n  }), /*#__PURE__*/React.createElement(Scatter, {\n    dataKey: \"price\",\n    fill: \"#40FF40\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 168,\n      columnNumber: 11\n    }\n  })))));\n}","map":{"version":3,"sources":["/home/pat/Desktop/penny_stocks/web/src/cards/CardLineChart.js"],"names":["React","useEffect","useState","ComposedChart","Line","Area","Bar","XAxis","YAxis","CartesianGrid","Tooltip","Legend","Scatter","ResponsiveContainer","faArrowCircleRight","faArrowCircleLeft","FontAwesomeIcon","CardLineChart","props","data","setData","master","setMaster","refAreaLeft","setRefAreaLeft","refAreaRight","setRefAreaRight","refArea","setRefArea","zoomIn","setZoomIn","moveRight","setMoveRight","formatData","stockData","makeMaster","console","log","dats","arr","x","length","ao","parseFloat","split","price","dic","Math","abs","round","push","_ind","zoom","i","ticker","slice","zoomOut","panLeft","setInterval","panRight","new_refs","timer","clearInterval","width","height","position","zIndex","backgroundColor","color","e","activeLabel","top","right","bottom","left"],"mappings":"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","sourcesContent":["import React, { useEffect, useState } from \"react\";\nimport {\n  ComposedChart,\n  Line,\n  Area,\n  Bar,\n  XAxis,\n  YAxis,\n  CartesianGrid,\n  Tooltip,\n  Legend,\n  Scatter,\n  ResponsiveContainer,\n} from 'recharts';\n\nimport { faArrowCircleRight, faArrowCircleLeft } from \"@fortawesome/free-solid-svg-icons\";\nimport { FontAwesomeIcon } from \"@fortawesome/react-fontawesome\";\n\n\n\nexport default function CardLineChart(props) {\n  const [data, setData] = useState([]);\n  const [master, setMaster] = useState([]);\n  const [refAreaLeft, setRefAreaLeft] = useState();\n  const [refAreaRight, setRefAreaRight] = useState();\n  const [refArea, setRefArea] = useState([]);\n  const [zoomIn, setZoomIn] = useState('false');\n  const [moveRight, setMoveRight] = useState('false');\n\n  useEffect(() => {\n    formatData(props.stockData);\n    makeMaster(props.stockData);\n    console.log(data)\n  }, [props.stockData]);\n  function makeMaster(dats){\n    setMaster([]);\n    const arr = [];\n    for(let x=0;x<dats.length;x++){\n      const ao = parseFloat(dats[x][0].split('/')[0]);\n      const price = parseFloat(dats[x][4].split(':')[1]);\n      const dic = {\n        'ticker': dats[x][1].split(':')[1].split('/')[0],\n        'ao': ((parseFloat(dats[x][0].split('/')[0]) > 10) || (parseFloat(dats[x][0].split('/')[0]) < -10)) ? parseFloat(dats[x][0].split('/')[0]) < 0 ? -5:5 : parseFloat(dats[x][0].split('/')[0]),\n        'price': parseFloat(dats[x][4].split(':')[1]),\n        'percent': Math.abs(Math.round(ao/price * 100000) / 1000) > 1 ? 1: Math.abs(Math.round(ao/price * 100000) / 1000) * 5\n      };\n      arr.push(dic)\n      master.push(dic)\n    }\n    setMaster(arr)\n    console.log(data)\n  }\n  function formatData(dats, _ind){\n    setData([]);\n    const arr = [];\n    for(let x=0;x<dats.length;x++){\n      const ao = parseFloat(dats[x][0].split('/')[0]);\n      const price = parseFloat(dats[x][4].split(':')[1]);\n      const dic = {\n        'ticker': dats[x][1].split(':')[1].split('/')[0],\n        'ao': ((parseFloat(dats[x][0].split('/')[0]) > 10) || (parseFloat(dats[x][0].split('/')[0]) < -10)) ? parseFloat(dats[x][0].split('/')[0]) < 0 ? -5:5 : parseFloat(dats[x][0].split('/')[0]),\n        'price': parseFloat(dats[x][4].split(':')[1]),\n        'percent': Math.abs(Math.round(ao/price * 100000) / 1000) > 1 ? 1: Math.abs(Math.round(ao/price * 100000) / 1000) * 5\n      };\n      arr.push(dic)\n      data.push(dic)\n    }\n    setData(arr)\n    console.log(data)\n  };\n  function zoom(){\n    console.log(refArea[0]);\n    console.log(refArea[1]);\n    const arr = [];\n    for(let i=0;i<data.length;i++){\n      if(master[i].ticker === refArea[1] || master[i].ticker === refArea[0]){\n        arr.push(i)\n      }\n    }\n    console.log(arr);\n    setZoomIn('true')\n    setData(master.slice(arr[0], arr[1]))\n  };\n  function zoomOut(){\n    setZoomIn('false');\n    formatData(props.stockData);\n  };\n  function panLeft(){\n    if(zoomIn === 'true'){\n      setMoveRight('true');\n      while(moveRight === 'true'){\n        setInterval(() => {\n          console.log(2)\n        }, 500);\n    }\n  };\n}\n  function panRight(){\n    if(zoomIn === 'true'){\n      console.log('hit');\n      const new_refs = [];\n      for(let i=0;i<master.length;i++){\n        if(master[i]['ticker'] === refArea[0]){\n          new_refs.push(master[i+1]['ticker']);\n        };\n        if(master[i]['ticker'] === refArea[1]){\n          new_refs.push(master[i+1]['ticker']);\n        }\n      };\n      console.log(new_refs);\n      setRefArea\n      zoom()\n    }\n  }\n\n  useEffect(() => {\n    const timer = setInterval(() => {      \n      if(moveRight === 'true'){\n        panRight();\n      };    \n    }, 1000);               // clearing interval\n    return () => clearInterval(timer);\n  }, [moveRight])\n\n  return (\n    <>\n    <div style={{ width: '100%', height: '100%'}}>\n      <div style={{ position: 'absolute'}}>\n        <button onClick={zoomOut} type=\"button\" className=\"btn update\" style={{ position: 'absolute', zIndex: '1', backgroundColor: 'darkgray'}}>\n            Zoom Out\n        </button>\n        <div style={{ height: '15vh'}}></div>\n\n        <button  onMouseEnter={() => setMoveRight('true')} onMouseLeave={() => setMoveRight('false')}  type=\"button\" className=\"btn update\" style={{ position: 'absolute', zIndex: '1', height: '10vh'}}>\n          <FontAwesomeIcon style={{ color: 'red'}} className=\"fa fa-arrow-circle-right fa-4x\" icon={faArrowCircleRight} />\n        </button>\n        <div style={{ height: '15vh'}}></div>\n        <button  onClick={panLeft} type=\"button\" className=\"btn update\" style={{ position: 'absolute', zIndex: '2', height: '10vh'}}>\n          <FontAwesomeIcon style={{ color: 'red'}} className=\"fa fa-arrow-circle-left fa-4x\" icon={faArrowCircleLeft} />\n        </button>\n      </div>\n      <ResponsiveContainer width=\"100%\" height=\"100%\">\n        <ComposedChart\n          onMouseDown={(e) => setRefAreaLeft(e.activeLabel)}\n          onMouseMove={(e) => refAreaLeft && setRefAreaRight(e.activeLabel)}\n          // eslint-disable-next-line react/jsx-no-bind\n          onMouseUp={zoom}\n          width={500}\n          height={1000}\n          data={data}\n          style={{\n            backgroundColor: '#202020',\n          }}\n          margin={{\n            top: 20,\n            right: 20,\n            bottom: 20,\n            left: 20,\n          }}\n        >\n          <XAxis dataKey=\"ticker\"  />\n          <YAxis />\n          <Tooltip />\n          <Legend />\n          <Bar dataKey=\"ao\" barSize={20} fill=\"#FF0000\" />\n          <Bar dataKey=\"percent\" barSize={20} fill=\"#C000FF\" />\n          <Scatter dataKey=\"percent\" fill=\"#C000FF\" />\n          <Scatter dataKey=\"price\" fill=\"#40FF40\" />\n        </ComposedChart>\n      </ResponsiveContainer>\n      </div>\n\n    </>\n  );\n}\n"]},"metadata":{},"sourceType":"module"}