{"ast":null,"code":"var _jsxFileName = \"/home/pat/Desktop/penny_stocks/web/src/cards/CardSocialTraffic.js\";\nimport React, { useContext, useState, useEffect } from \"react\"; ///import dataContext from \"../gData\";\n\nimport '../App.css';\nimport { connect } from \"react-redux\";\nimport { addStock, getData, addSocialData } from \"../js/actions/index\"; // components\n\nconst mapStateToProps = state => {\n  return {\n    remoteData: state.remoteAOData,\n    data: state.socialData\n  };\n};\n\nfunction ConnectedCardSocialTraffic(props) {\n  const [data, setData] = useState([]);\n  const [bgColorButton, setBgColorButton] = useState('bg-red');\n  useEffect(() => {\n    props.getData();\n  }, []);\n  useEffect(() => {\n    if (props.remoteData !== undefined) {\n      console.log('effectsocial', props.remoteData);\n      formatData(props.remoteData);\n    }\n  }, [props.remoteData]);\n  useEffect(() => {\n    console.log('social data', props.data);\n  }, [props.data]);\n\n  function formatData(dats) {\n    const arg = [];\n\n    for (let x = 0; x < dats.length; x++) {\n      const ao = parseFloat(dats[x][0].split('/')[0]);\n      const tick = dats[x][1].split(':')[1].split('/')[0];\n      const price = dats[x][4].split(':')[1];\n      const perc = Math.round(ao / price * 10);\n      const ar = [tick, ao, price, perc];\n      arg.push(ar); //props.addSocialData(ar)\n      //setData(prev => [...prev, ar])\n    }\n\n    ;\n    props.addSocialData(arg);\n  }\n\n  ;\n\n  function reverseArr() {\n    const revArr = props.data.reverse(); //setData([]);\n\n    for (let x = 0; x < revArr.length; x++) {\n      //setData(prev => [...prev, revArr[x]]);\n      props.addSocialData(revArr[x]);\n    }\n  }\n\n  ;\n\n  function changePercent() {\n    const revArr = props.data; //setData([]);\n\n    if (bgColorButton === 'bg-red') {\n      setBgColorButton('bg-green');\n      const newArr = revArr.sort(function (a, b) {\n        return a[3] - b[3];\n      });\n\n      for (let i = 0; i < newArr.length; i++) {\n        //setData(prev => [...prev, newArr[i]]);\n        props.addSocialData(newArr[i]);\n      }\n    } else {\n      setBgColorButton('bg-red');\n      formatData(props.remoteData);\n    }\n  }\n\n  ;\n\n  function highlightRow(e) {\n    if (e.target.attributes.name) {\n      const ids = e.target.attributes.name.value;\n      const eles = document.getElementsByName(ids);\n\n      for (let i = 0; i < eles.length; i++) {\n        eles[i].style.backgroundColor = 'green';\n      }\n    }\n  }\n\n  ;\n\n  function dehighlightRow(e) {\n    if (e.target.attributes.name) {\n      const ids = e.target.attributes.name.value;\n      const eles = document.getElementsByName(ids);\n\n      for (let i = 0; i < eles.length; i++) {\n        eles[i].style.backgroundColor = '';\n      }\n    }\n  }\n\n  ;\n\n  function selectTarget(e) {\n    e.preventDefault();\n    console.log(e.target.innerHTML);\n  }\n\n  return /*#__PURE__*/React.createElement(React.Fragment, null, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"relative flex flex-col min-w-0 break-words bg-white w-full mb-6 shadow-lg rounded\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 96,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"rounded-t mb-0 px-4 py-3 border-0\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 97,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"flex flex-wrap items-center\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 98,\n      columnNumber: 11\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"relative w-full px-4 max-w-full flex-grow flex-1\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 99,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(\"h3\", {\n    className: \"font-semibold text-base text-gray-800\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 100,\n      columnNumber: 15\n    }\n  }, \"Ranked By AO\")), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"relative w-full px-4 max-w-full flex-grow flex-1 text-right\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 104,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(\"button\", {\n    onClick: reverseArr,\n    className: \"bg-indigo-500 text-white active:bg-indigo-600 text-xs font-bold uppercase px-3 py-1 rounded outline-none focus:outline-none mr-1 mb-1 ease-linear transition-all duration-150\",\n    type: \"button\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 105,\n      columnNumber: 15\n    }\n  }, \"Reverse\"), /*#__PURE__*/React.createElement(\"button\", {\n    onClick: changePercent,\n    className: `${bgColorButton}-500 text-white active:${bgColorButton}-600 text-xs font-bold uppercase px-3 py-1 rounded outline-none focus:outline-none mr-1 mb-1 ease-linear transition-all duration-150`,\n    type: \"button\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 112,\n      columnNumber: 15\n    }\n  }, \"Percent\")))), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"block w-full overflow-x-auto\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 122,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(\"table\", {\n    className: \"items-center w-full bg-transparent border-collapse\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 124,\n      columnNumber: 11\n    }\n  }, /*#__PURE__*/React.createElement(\"thead\", {\n    className: \"thead-light\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 125,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(\"tr\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 126,\n      columnNumber: 15\n    }\n  }, /*#__PURE__*/React.createElement(\"th\", {\n    className: \"px-6 bg-gray-100 text-gray-600 align-middle border border-solid border-gray-200 py-3 text-xs uppercase border-l-0 border-r-0 whitespace-no-wrap font-semibold text-left\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 127,\n      columnNumber: 17\n    }\n  }, \"Ticker\"), /*#__PURE__*/React.createElement(\"th\", {\n    className: \"px-6 bg-gray-100 text-gray-600 align-middle border border-solid border-gray-200 py-3 text-xs uppercase border-l-0 border-r-0 whitespace-no-wrap font-semibold text-left\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 130,\n      columnNumber: 17\n    }\n  }, \"AO\"), /*#__PURE__*/React.createElement(\"th\", {\n    className: \"px-6 bg-gray-100 text-gray-600 align-middle border border-solid border-gray-200 py-3 text-xs uppercase border-l-0 border-r-0 whitespace-no-wrap font-semibold text-left min-w-140-px\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 133,\n      columnNumber: 17\n    }\n  }, \"AO vs Price\"))), /*#__PURE__*/React.createElement(\"tbody\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 138,\n      columnNumber: 13\n    }\n  }, propsdata.map((item, index) => /*#__PURE__*/React.createElement(\"tr\", {\n    onMouseEnter: e => highlightRow(e),\n    onMouseLeave: e => dehighlightRow(e),\n    onClick: e => props.addStock(e.target.innerHTML),\n    key: `${item[0]}` + `${index}`,\n    id: `${item[0]}` + `${index}`,\n    name: `${item[0]}` + `${index}`,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 140,\n      columnNumber: 17\n    }\n  }, /*#__PURE__*/React.createElement(\"th\", {\n    name: `${item[0]}` + `${index}`,\n    className: `border-t-0 px-6 align-middle border-l-0 border-r-0 text-xs whitespace-no-wrap p-4 text-left ${`${item[0]}${index}`}`,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 149,\n      columnNumber: 19\n    }\n  }, index, \"  \", item[0]), /*#__PURE__*/React.createElement(\"td\", {\n    name: `${item[0]}` + `${index}`,\n    className: \"border-t-0 px-6 align-middle border-l-0 border-r-0 text-xs whitespace-no-wrap p-4\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 152,\n      columnNumber: 19\n    }\n  }, Math.round(item[1] * 1000) / 1000), /*#__PURE__*/React.createElement(\"td\", {\n    name: `${item[0]}` + `${index}`,\n    className: \"border-t-0 px-6 align-middle border-l-0 border-r-0 text-xs whitespace-no-wrap p-4\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 155,\n      columnNumber: 19\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    name: `${item[0]}` + `${index}`,\n    className: \"flex items-center\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 156,\n      columnNumber: 21\n    }\n  }, /*#__PURE__*/React.createElement(\"span\", {\n    className: \"mr-2\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 157,\n      columnNumber: 23\n    }\n  }, Math.round(item[1] / item[2] * 100000) / 1000, \"%\"), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"relative w-full\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 158,\n      columnNumber: 23\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"overflow-hidden h-2 text-xs flex rounded bg-orange-200\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 159,\n      columnNumber: 25\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    style: {\n      width: `${parseInt(Math.abs(Math.round(item[1] / item[2] * 100)))}%`\n    },\n    className: `shadow-none flex flex-col text-center whitespace-nowrap text-white justify-center ${item[1] > 0 ? 'bg-green-500' : 'bg-red-500'}`,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 160,\n      columnNumber: 27\n    }\n  }))))))))))));\n}\n\nconst CardSocialTraffic = connect(mapStateToProps, {\n  getData,\n  addStock,\n  addSocialData\n})(ConnectedCardSocialTraffic);\nexport default CardSocialTraffic;","map":{"version":3,"sources":["/home/pat/Desktop/penny_stocks/web/src/cards/CardSocialTraffic.js"],"names":["React","useContext","useState","useEffect","connect","addStock","getData","addSocialData","mapStateToProps","state","remoteData","remoteAOData","data","socialData","ConnectedCardSocialTraffic","props","setData","bgColorButton","setBgColorButton","undefined","console","log","formatData","dats","arg","x","length","ao","parseFloat","split","tick","price","perc","Math","round","ar","push","reverseArr","revArr","reverse","changePercent","newArr","sort","a","b","i","highlightRow","e","target","attributes","name","ids","value","eles","document","getElementsByName","style","backgroundColor","dehighlightRow","selectTarget","preventDefault","innerHTML","propsdata","map","item","index","width","parseInt","abs","CardSocialTraffic"],"mappings":"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","sourcesContent":["import React, { useContext, useState, useEffect } from \"react\";\n///import dataContext from \"../gData\";\nimport '../App.css';\nimport { connect } from \"react-redux\";\nimport { addStock, getData, addSocialData } from \"../js/actions/index\";\n\n// components\n\nconst mapStateToProps = state => {\n  return { \n    remoteData: state.remoteAOData,\n    data: state.socialData,\n   };\n};\n\nfunction ConnectedCardSocialTraffic(props) {\n  const [data, setData] = useState([]);\n  const [bgColorButton, setBgColorButton] = useState('bg-red');\n  useEffect(() => {\n    props.getData();\n  }, [])\n  useEffect(() => {\n    if(props.remoteData !== undefined){\n      console.log('effectsocial',props.remoteData)\n      formatData(props.remoteData);\n    }\n  }, [props.remoteData]);\n  useEffect(() => {\n    console.log('social data',props.data)\n  }, [props.data])\n  function formatData(dats){\n    const arg = [];\n    for (let x=0;x<dats.length;x++){\n      const ao = parseFloat(dats[x][0].split('/')[0]);\n      const tick = dats[x][1].split(':')[1].split('/')[0];\n      const price = dats[x][4].split(':')[1];\n      const perc = Math.round(ao/price * 10)\n\n      const ar = [tick, ao, price, perc];\n      arg.push(ar);\n      //props.addSocialData(ar)\n      //setData(prev => [...prev, ar])\n    };\n    props.addSocialData(arg)\n  };\n  function reverseArr(){\n    const revArr = props.data.reverse();\n    //setData([]);\n    for(let x=0;x<revArr.length;x++){\n      //setData(prev => [...prev, revArr[x]]);\n      props.addSocialData(revArr[x])\n    }\n  };\n  function changePercent(){\n    const revArr = props.data;\n    //setData([]);\n    if(bgColorButton === 'bg-red'){\n      setBgColorButton('bg-green');\n      const newArr = revArr.sort(function(a,b){return a[3]-b[3]});\n      for(let i=0;i<newArr.length;i++){\n        //setData(prev => [...prev, newArr[i]]);\n        props.addSocialData(newArr[i])\n\n      }\n      \n    } else {\n      setBgColorButton('bg-red');\n      formatData(props.remoteData);\n    }\n  };\n  function highlightRow(e){\n    if(e.target.attributes.name){\n      const ids = e.target.attributes.name.value;\n      const eles = document.getElementsByName(ids);\n      for(let i=0;i<eles.length;i++){\n        eles[i].style.backgroundColor = 'green';\n      }\n    }\n  };\n  function dehighlightRow(e){\n    if(e.target.attributes.name){\n      const ids = e.target.attributes.name.value;\n      const eles = document.getElementsByName(ids);\n      for(let i=0;i<eles.length;i++){\n        eles[i].style.backgroundColor = '';\n      }\n      \n    }\n  };\n  function selectTarget(e){\n    e.preventDefault();\n    console.log(e.target.innerHTML);\n  }\n  return (\n    <>\n      <div className=\"relative flex flex-col min-w-0 break-words bg-white w-full mb-6 shadow-lg rounded\">\n        <div className=\"rounded-t mb-0 px-4 py-3 border-0\">\n          <div className=\"flex flex-wrap items-center\">\n            <div className=\"relative w-full px-4 max-w-full flex-grow flex-1\">\n              <h3 className=\"font-semibold text-base text-gray-800\">\n                Ranked By AO\n              </h3>\n            </div>\n            <div className=\"relative w-full px-4 max-w-full flex-grow flex-1 text-right\">\n              <button\n                onClick={reverseArr}\n                className=\"bg-indigo-500 text-white active:bg-indigo-600 text-xs font-bold uppercase px-3 py-1 rounded outline-none focus:outline-none mr-1 mb-1 ease-linear transition-all duration-150\"\n                type=\"button\"\n              >\n                Reverse\n              </button>\n              <button\n                onClick={changePercent}\n                className={`${bgColorButton}-500 text-white active:${bgColorButton}-600 text-xs font-bold uppercase px-3 py-1 rounded outline-none focus:outline-none mr-1 mb-1 ease-linear transition-all duration-150`}\n                type=\"button\"\n              >\n                Percent\n              </button>\n            </div>\n          </div>\n        </div>\n        <div className=\"block w-full overflow-x-auto\">\n          {/* Projects table */}\n          <table className=\"items-center w-full bg-transparent border-collapse\">\n            <thead className=\"thead-light\">\n              <tr>\n                <th className=\"px-6 bg-gray-100 text-gray-600 align-middle border border-solid border-gray-200 py-3 text-xs uppercase border-l-0 border-r-0 whitespace-no-wrap font-semibold text-left\">\n                  Ticker\n                </th>\n                <th className=\"px-6 bg-gray-100 text-gray-600 align-middle border border-solid border-gray-200 py-3 text-xs uppercase border-l-0 border-r-0 whitespace-no-wrap font-semibold text-left\">\n                  AO\n                </th>\n                <th className=\"px-6 bg-gray-100 text-gray-600 align-middle border border-solid border-gray-200 py-3 text-xs uppercase border-l-0 border-r-0 whitespace-no-wrap font-semibold text-left min-w-140-px\">\n                  AO vs Price\n                </th>\n              </tr>\n            </thead>\n            <tbody>\n            {propsdata.map((item, index) => (\n                <tr\n                  onMouseEnter={(e) => highlightRow(e)}\n                  onMouseLeave={(e) => dehighlightRow(e)}\n                  onClick={(e) => props.addStock(e.target.innerHTML)}\n                  key={`${item[0]}` + `${index}`}\n                  id={`${item[0]}` + `${index}`}\n                  name={`${item[0]}` + `${index}`}\n\n                  >\n                  <th name={`${item[0]}` + `${index}`} className={`border-t-0 px-6 align-middle border-l-0 border-r-0 text-xs whitespace-no-wrap p-4 text-left ${`${item[0]}${index}`}`}>\n                    {index }  { item[0]}\n                  </th>\n                  <td name={`${item[0]}` + `${index}`} className=\"border-t-0 px-6 align-middle border-l-0 border-r-0 text-xs whitespace-no-wrap p-4\">\n                    {Math.round(item[1] * 1000) / 1000}\n                  </td>\n                  <td name={`${item[0]}` + `${index}`} className=\"border-t-0 px-6 align-middle border-l-0 border-r-0 text-xs whitespace-no-wrap p-4\">\n                    <div name={`${item[0]}` + `${index}`} className=\"flex items-center\">\n                      <span className=\"mr-2\">{Math.round((item[1]/ item[2]) * 100000) / 1000}%</span>\n                      <div className=\"relative w-full\">\n                        <div className=\"overflow-hidden h-2 text-xs flex rounded bg-orange-200\">\n                          <div\n                            style={{ width: `${parseInt(Math.abs(Math.round((item[1]/ item[2] * 100))))}%` }}\n                            className={`shadow-none flex flex-col text-center whitespace-nowrap text-white justify-center ${(item[1] > 0) ? 'bg-green-500': 'bg-red-500'}`}\n                        ></div>\n                      </div>\n                      </div>\n                    </div>\n                  </td>\n                </tr>\n  \n                ))}\n             \n            </tbody>\n          </table>\n        </div>\n      </div>\n    </>\n  );\n}\n\nconst CardSocialTraffic = connect(\n  mapStateToProps,\n  { getData, addStock, addSocialData }\n)(ConnectedCardSocialTraffic);\n\nexport default CardSocialTraffic;"]},"metadata":{},"sourceType":"module"}