{"ast":null,"code":"import { ADD_STOCK, DATA_LOADED, SET_LINE_DATA, SET_MASTER_LINE_DATA, SET_HISTORY_DATA, SET_HISTORY_GRAPH_DATA } from \"../constants/action-types\";\nimport axios from 'axios';\nexport function addStock(payload) {\n  return {\n    type: ADD_STOCK,\n    payload\n  };\n}\n;\nexport function addLineData(payload) {\n  return {\n    type: SET_LINE_DATA,\n    payload\n  };\n}\n;\nexport function addMasterLineData(payload) {\n  return {\n    type: SET_MASTER_LINE_DATA,\n    payload\n  };\n}\n;\nexport function addHistoryGraphData(payload) {\n  return {\n    type: SET_HISTORY_GRAPH_DATA,\n    payload\n  };\n}\n;\nexport function getHistoryData() {\n  return function (dispatch, getState) {\n    const {\n      stock\n    } = getState();\n    console.log('reducer', stock);\n\n    if (stock) {\n      return axios.get(`http://localhost:5000/${stock[stock.length - 1]}`, {\n        headers: {\n          \"Access-Control-Allow-Origin\": \"*\"\n        }\n      }).then(res => res.data).then(data => {\n        console.log('resdata', data);\n        dispatch({\n          type: SET_HISTORY_DATA,\n          payload: data\n        });\n      }).catch(err => {\n        console.log(err);\n      });\n    }\n  };\n}\nexport function getData() {\n  return function (dispatch) {\n    return axios.get(`http://localhost:5000/`, {\n      headers: {\n        \"Access-Control-Allow-Origin\": \"*\"\n      }\n    }).then(res => res.data).then(data => {\n      console.log('resdata', data);\n      dispatch({\n        type: DATA_LOADED,\n        payload: data\n      });\n    }).catch(err => {\n      console.log(err);\n    });\n  };\n}","map":{"version":3,"sources":["/home/pat/Desktop/penny_stocks/web/src/js/actions/index.js"],"names":["ADD_STOCK","DATA_LOADED","SET_LINE_DATA","SET_MASTER_LINE_DATA","SET_HISTORY_DATA","SET_HISTORY_GRAPH_DATA","axios","addStock","payload","type","addLineData","addMasterLineData","addHistoryGraphData","getHistoryData","dispatch","getState","stock","console","log","get","length","headers","then","res","data","catch","err","getData"],"mappings":"AAAA,SAASA,SAAT,EAAoBC,WAApB,EAAiCC,aAAjC,EAAgDC,oBAAhD,EAAsEC,gBAAtE,EAAyFC,sBAAzF,QAAuH,2BAAvH;AACA,OAAOC,KAAP,MAAkB,OAAlB;AAEA,OAAO,SAASC,QAAT,CAAkBC,OAAlB,EAA2B;AAC9B,SAAO;AAAEC,IAAAA,IAAI,EAAET,SAAR;AAAmBQ,IAAAA;AAAnB,GAAP;AACD;AAAA;AAEH,OAAO,SAASE,WAAT,CAAqBF,OAArB,EAA8B;AACnC,SAAO;AAAEC,IAAAA,IAAI,EAAEP,aAAR;AAAuBM,IAAAA;AAAvB,GAAP;AACD;AAAA;AAED,OAAO,SAASG,iBAAT,CAA2BH,OAA3B,EAAoC;AACzC,SAAO;AAAEC,IAAAA,IAAI,EAAEN,oBAAR;AAA8BK,IAAAA;AAA9B,GAAP;AACD;AAAA;AAED,OAAO,SAASI,mBAAT,CAA6BJ,OAA7B,EAAsC;AAC3C,SAAO;AAAEC,IAAAA,IAAI,EAAEJ,sBAAR;AAAgCG,IAAAA;AAAhC,GAAP;AACD;AAAA;AAED,OAAO,SAASK,cAAT,GAA0B;AAC/B,SAAO,UAASC,QAAT,EAAmBC,QAAnB,EAA6B;AAClC,UAAM;AAAEC,MAAAA;AAAF,QAAYD,QAAQ,EAA1B;AACAE,IAAAA,OAAO,CAACC,GAAR,CAAY,SAAZ,EAAuBF,KAAvB;;AACA,QAAGA,KAAH,EAAS;AACP,aAASV,KAAK,CAACa,GAAN,CAAW,yBAAwBH,KAAK,CAACA,KAAK,CAACI,MAAN,GAAe,CAAhB,CAAmB,EAA3D,EAA8D;AACjEC,QAAAA,OAAO,EAAE;AACP,yCAA+B;AADxB;AADwD,OAA9D,EAKJC,IALI,CAKCC,GAAG,IAAIA,GAAG,CAACC,IALZ,EAMJF,IANI,CAMCE,IAAI,IAAI;AACZP,QAAAA,OAAO,CAACC,GAAR,CAAY,SAAZ,EAAuBM,IAAvB;AACAV,QAAAA,QAAQ,CAAC;AAAEL,UAAAA,IAAI,EAAEL,gBAAR;AAA0BI,UAAAA,OAAO,EAAEgB;AAAnC,SAAD,CAAR;AACD,OATI,EAUJC,KAVI,CAUEC,GAAG,IAAI;AACZT,QAAAA,OAAO,CAACC,GAAR,CAAYQ,GAAZ;AACD,OAZI,CAAT;AAaG;AACN,GAlBD;AAmBD;AAED,OAAO,SAASC,OAAT,GAAmB;AACxB,SAAO,UAASb,QAAT,EAAmB;AACxB,WAASR,KAAK,CAACa,GAAN,CAAW,wBAAX,EAAoC;AACvCE,MAAAA,OAAO,EAAE;AACP,uCAA+B;AADxB;AAD8B,KAApC,EAKJC,IALI,CAKCC,GAAG,IAAIA,GAAG,CAACC,IALZ,EAMJF,IANI,CAMCE,IAAI,IAAI;AACZP,MAAAA,OAAO,CAACC,GAAR,CAAY,SAAZ,EAAuBM,IAAvB;AACAV,MAAAA,QAAQ,CAAC;AAAEL,QAAAA,IAAI,EAAER,WAAR;AAAqBO,QAAAA,OAAO,EAAEgB;AAA9B,OAAD,CAAR;AACD,KATI,EAUJC,KAVI,CAUEC,GAAG,IAAI;AACZT,MAAAA,OAAO,CAACC,GAAR,CAAYQ,GAAZ;AACD,KAZI,CAAT;AAaD,GAdD;AAeD","sourcesContent":["import { ADD_STOCK, DATA_LOADED, SET_LINE_DATA, SET_MASTER_LINE_DATA, SET_HISTORY_DATA,  SET_HISTORY_GRAPH_DATA } from \"../constants/action-types\";\nimport axios from 'axios';\n\nexport function addStock(payload) {\n    return { type: ADD_STOCK, payload }\n  };\n\nexport function addLineData(payload) {\n  return { type: SET_LINE_DATA, payload }\n};\n\nexport function addMasterLineData(payload) {\n  return { type: SET_MASTER_LINE_DATA, payload }\n};\n\nexport function addHistoryGraphData(payload) {\n  return { type: SET_HISTORY_GRAPH_DATA, payload }\n};\n\nexport function getHistoryData() {\n  return function(dispatch, getState) {\n    const { stock } = getState()\n    console.log('reducer', stock)\n    if(stock){\n      return   axios.get(`http://localhost:5000/${stock[stock.length - 1]}`, {\n            headers: {\n              \"Access-Control-Allow-Origin\": \"*\",\n            }\n          })  \n          .then(res => res.data)\n          .then(data => {\n            console.log('resdata', data)  \n            dispatch({ type: SET_HISTORY_DATA, payload: data})\n          })\n          .catch(err => {  \n            console.log(err)  \n          });  \n        }\n  };\n}\n\nexport function getData() {\n  return function(dispatch) {\n    return   axios.get(`http://localhost:5000/`, {\n          headers: {\n            \"Access-Control-Allow-Origin\": \"*\",\n          }\n        })  \n        .then(res => res.data)\n        .then(data => {\n          console.log('resdata', data)  \n          dispatch({ type: DATA_LOADED, payload: data})\n        })\n        .catch(err => {  \n          console.log(err)  \n        });  \n  };\n}\n\n"]},"metadata":{},"sourceType":"module"}