{"ast":null,"code":"var _jsxFileName = \"/home/pat/Desktop/penny_stocks/web/src/cards/CardPageVisits.js\";\nimport React, { useEffect, useReducer } from \"react\";\nconst initialState = {\n  historyDataArray: [],\n  dataArray: []\n};\n\nconst reducer = (state, action) => {\n  switch (action.type) {\n    case 'addHistoryData':\n      return { ...state,\n        historyData: action.arr\n      };\n\n    case 'addNewTick':\n      return { ...state,\n        dataArray: action.arr\n      };\n\n    case 'removeDoubles':\n      return { ...state,\n        dataArray: [...new Set(state.dataArray)]\n      };\n\n    default:\n      throw new Error('Unexpected action');\n  }\n};\n\nexport default function CardPageVisits(props) {\n  const [state, dispatch] = useReducer(reducer, initialState);\n  useEffect(() => {\n    const p = state.historyDataArray;\n    dispatch({\n      type: 'addHistoryData',\n      arr: p.push(props.historyData)\n    });\n    formatData();\n  }, [props.historyData]);\n  useEffect(() => {\n    console.log('arrrrrrrrrrrrrray', state.dataArray);\n  }, [state]);\n\n  function formatData() {\n    if (state.historyDataArray !== undefined) {\n      const arr = []; //dispatch({ type: 'removeDoubles' })\n\n      const dat = state.historyDataArray; //unusual, i cant pop the empty array that apperates out of nowhere??\n\n      if (dat[0].length === 0) {\n        dat.pop(0);\n      }\n\n      ;\n\n      for (let i = 0; i < dat.length; i++) {\n        getData(dat[i]);\n      }\n    }\n\n    ;\n  }\n\n  function getHighLow(arr, time) {\n    console.log('hello', arr.length);\n\n    if (arr.length > time - 1) {\n      const dats = arr.slice(arr.length - time, arr.length - 1);\n      let high = 0;\n      let low = 100;\n\n      for (let i = 0; i < dats.length; i++) {\n        if (parseFloat(dats[i]) > high) {\n          high = Math.round(parseFloat(dats[i]) * 1000) / 1000;\n        }\n\n        if (dats[i] < low) {\n          low = Math.round(parseFloat(dats[i]) * 1000) / 1000;\n        }\n      }\n\n      return `${high}/${low}`;\n    } else return '0';\n  }\n\n  function getData(arr) {\n    const res = state.dataArray;\n    const price = [];\n    const ao = [];\n    const date = [];\n    const tick = [];\n    const percent = [];\n\n    for (let b = 0; b < arr.length; b++) {\n      price.push(arr[b]['price']);\n      ao.push(arr[b]['ao']);\n      date.push(arr[b]['date']);\n      tick.push(arr[b]['name']);\n      percent.push(arr[b]['percent']);\n    }\n\n    ;\n    const year = getHighLow(price, 365);\n    const sixM = getHighLow(price, 180);\n    const threeM = getHighLow(price, 90);\n    const month = getHighLow(price, 30);\n    const c = arr.length - 1;\n    console.log(month, 'yearrrsr');\n    const result = {\n      'name': tick[c],\n      'price': price[c],\n      'ao': ao[c],\n      'percent': percent[c],\n      'date': date[c],\n      'month': month,\n      'year': year,\n      'sixM': sixM,\n      'threeM': threeM\n    }; //res.push(result);\n\n    console.log('resssss', result);\n\n    if (result in res) {}\n\n    res.push(result);\n    dispatch({\n      type: 'addNewTick',\n      arr: res\n    });\n  }\n\n  ;\n  return /*#__PURE__*/React.createElement(React.Fragment, null, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"relative flex flex-col min-w-0 break-words bg-white w-full mb-6 shadow-lg rounded\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 87,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"rounded-t mb-0 px-4 py-3 border-0\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 88,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"flex flex-wrap items-center\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 89,\n      columnNumber: 11\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"relative w-full px-4 max-w-full flex-grow flex-1\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 90,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(\"h3\", {\n    className: \"font-semibold text-base text-gray-800\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 91,\n      columnNumber: 15\n    }\n  }, \"Page visits\")), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"relative w-full px-4 max-w-full flex-grow flex-1 text-right\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 95,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(\"button\", {\n    className: \"bg-indigo-500 text-white active:bg-indigo-600 text-xs font-bold uppercase px-3 py-1 rounded outline-none focus:outline-none mr-1 mb-1 ease-linear transition-all duration-150\",\n    type: \"button\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 96,\n      columnNumber: 15\n    }\n  }, \"See all\")))), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"block w-full overflow-x-auto\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 105,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(\"table\", {\n    className: \"items-center w-full bg-transparent border-collapse\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 107,\n      columnNumber: 11\n    }\n  }, /*#__PURE__*/React.createElement(\"thead\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 108,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(\"tr\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 109,\n      columnNumber: 15\n    }\n  }, /*#__PURE__*/React.createElement(\"th\", {\n    className: \"px-6 bg-gray-100 text-gray-600 align-middle border border-solid border-gray-200 py-3 text-xs uppercase border-l-0 border-r-0 whitespace-no-wrap font-semibold text-left\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 110,\n      columnNumber: 17\n    }\n  }, \"Page name\"), /*#__PURE__*/React.createElement(\"th\", {\n    className: \"px-6 bg-gray-100 text-gray-600 align-middle border border-solid border-gray-200 py-3 text-xs uppercase border-l-0 border-r-0 whitespace-no-wrap font-semibold text-left\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 113,\n      columnNumber: 17\n    }\n  }, \"Visitors\"), /*#__PURE__*/React.createElement(\"th\", {\n    className: \"px-6 bg-gray-100 text-gray-600 align-middle border border-solid border-gray-200 py-3 text-xs uppercase border-l-0 border-r-0 whitespace-no-wrap font-semibold text-left\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 116,\n      columnNumber: 17\n    }\n  }, \"Unique users\"), /*#__PURE__*/React.createElement(\"th\", {\n    className: \"px-6 bg-gray-100 text-gray-600 align-middle border border-solid border-gray-200 py-3 text-xs uppercase border-l-0 border-r-0 whitespace-no-wrap font-semibold text-left\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 119,\n      columnNumber: 17\n    }\n  }, \"Bounce rate\"))), /*#__PURE__*/React.createElement(\"tbody\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 124,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(\"tr\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 125,\n      columnNumber: 15\n    }\n  }, /*#__PURE__*/React.createElement(\"th\", {\n    className: \"border-t-0 px-6 align-middle border-l-0 border-r-0 text-xs whitespace-no-wrap p-4 text-left\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 126,\n      columnNumber: 17\n    }\n  }, \"/argon/\"), /*#__PURE__*/React.createElement(\"td\", {\n    className: \"border-t-0 px-6 align-middle border-l-0 border-r-0 text-xs whitespace-no-wrap p-4\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 129,\n      columnNumber: 17\n    }\n  }, \"4,569\"), /*#__PURE__*/React.createElement(\"td\", {\n    className: \"border-t-0 px-6 align-middle border-l-0 border-r-0 text-xs whitespace-no-wrap p-4\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 132,\n      columnNumber: 17\n    }\n  }, \"340\"), /*#__PURE__*/React.createElement(\"td\", {\n    className: \"border-t-0 px-6 align-middle border-l-0 border-r-0 text-xs whitespace-no-wrap p-4\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 135,\n      columnNumber: 17\n    }\n  }, /*#__PURE__*/React.createElement(\"i\", {\n    className: \"fas fa-arrow-up text-green-500 mr-4\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 136,\n      columnNumber: 19\n    }\n  }), \"46,53%\")), /*#__PURE__*/React.createElement(\"tr\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 140,\n      columnNumber: 15\n    }\n  }, /*#__PURE__*/React.createElement(\"th\", {\n    className: \"border-t-0 px-6 align-middle border-l-0 border-r-0 text-xs whitespace-no-wrap p-4 text-left\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 141,\n      columnNumber: 17\n    }\n  }, \"/argon/index.html\"), /*#__PURE__*/React.createElement(\"td\", {\n    className: \"border-t-0 px-6 align-middle border-l-0 border-r-0 text-xs whitespace-no-wrap p-4\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 144,\n      columnNumber: 17\n    }\n  }, \"3,985\"), /*#__PURE__*/React.createElement(\"td\", {\n    className: \"border-t-0 px-6 align-middle border-l-0 border-r-0 text-xs whitespace-no-wrap p-4\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 147,\n      columnNumber: 17\n    }\n  }, \"319\"), /*#__PURE__*/React.createElement(\"td\", {\n    className: \"border-t-0 px-6 align-middle border-l-0 border-r-0 text-xs whitespace-no-wrap p-4\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 150,\n      columnNumber: 17\n    }\n  }, /*#__PURE__*/React.createElement(\"i\", {\n    className: \"fas fa-arrow-down text-orange-500 mr-4\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 151,\n      columnNumber: 19\n    }\n  }), \"46,53%\")), /*#__PURE__*/React.createElement(\"tr\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 155,\n      columnNumber: 15\n    }\n  }, /*#__PURE__*/React.createElement(\"th\", {\n    className: \"border-t-0 px-6 align-middle border-l-0 border-r-0 text-xs whitespace-no-wrap p-4 text-left\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 156,\n      columnNumber: 17\n    }\n  }, \"/argon/charts.html\"), /*#__PURE__*/React.createElement(\"td\", {\n    className: \"border-t-0 px-6 align-middle border-l-0 border-r-0 text-xs whitespace-no-wrap p-4\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 159,\n      columnNumber: 17\n    }\n  }, \"3,513\"), /*#__PURE__*/React.createElement(\"td\", {\n    className: \"border-t-0 px-6 align-middle border-l-0 border-r-0 text-xs whitespace-no-wrap p-4\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 162,\n      columnNumber: 17\n    }\n  }, \"294\"), /*#__PURE__*/React.createElement(\"td\", {\n    className: \"border-t-0 px-6 align-middle border-l-0 border-r-0 text-xs whitespace-no-wrap p-4\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 165,\n      columnNumber: 17\n    }\n  }, /*#__PURE__*/React.createElement(\"i\", {\n    className: \"fas fa-arrow-down text-orange-500 mr-4\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 166,\n      columnNumber: 19\n    }\n  }), \"36,49%\")), /*#__PURE__*/React.createElement(\"tr\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 170,\n      columnNumber: 15\n    }\n  }, /*#__PURE__*/React.createElement(\"th\", {\n    className: \"border-t-0 px-6 align-middle border-l-0 border-r-0 text-xs whitespace-no-wrap p-4 text-left\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 171,\n      columnNumber: 17\n    }\n  }, \"/argon/tables.html\"), /*#__PURE__*/React.createElement(\"td\", {\n    className: \"border-t-0 px-6 align-middle border-l-0 border-r-0 text-xs whitespace-no-wrap p-4\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 174,\n      columnNumber: 17\n    }\n  }, \"2,050\"), /*#__PURE__*/React.createElement(\"td\", {\n    className: \"border-t-0 px-6 align-middle border-l-0 border-r-0 text-xs whitespace-no-wrap p-4\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 177,\n      columnNumber: 17\n    }\n  }, \"147\"), /*#__PURE__*/React.createElement(\"td\", {\n    className: \"border-t-0 px-6 align-middle border-l-0 border-r-0 text-xs whitespace-no-wrap p-4\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 180,\n      columnNumber: 17\n    }\n  }, /*#__PURE__*/React.createElement(\"i\", {\n    className: \"fas fa-arrow-up text-green-500 mr-4\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 181,\n      columnNumber: 19\n    }\n  }), \"50,87%\")), /*#__PURE__*/React.createElement(\"tr\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 185,\n      columnNumber: 15\n    }\n  }, /*#__PURE__*/React.createElement(\"th\", {\n    className: \"border-t-0 px-6 align-middle border-l-0 border-r-0 text-xs whitespace-no-wrap p-4 text-left\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 186,\n      columnNumber: 17\n    }\n  }, \"/argon/profile.html\"), /*#__PURE__*/React.createElement(\"td\", {\n    className: \"border-t-0 px-6 align-middle border-l-0 border-r-0 text-xs whitespace-no-wrap p-4\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 189,\n      columnNumber: 17\n    }\n  }, \"1,795\"), /*#__PURE__*/React.createElement(\"td\", {\n    className: \"border-t-0 px-6 align-middle border-l-0 border-r-0 text-xs whitespace-no-wrap p-4\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 192,\n      columnNumber: 17\n    }\n  }, \"190\"), /*#__PURE__*/React.createElement(\"td\", {\n    className: \"border-t-0 px-6 align-middle border-l-0 border-r-0 text-xs whitespace-no-wrap p-4\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 195,\n      columnNumber: 17\n    }\n  }, /*#__PURE__*/React.createElement(\"i\", {\n    className: \"fas fa-arrow-down text-red-500 mr-4\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 196,\n      columnNumber: 19\n    }\n  }), \"46,53%\")))))));\n}","map":{"version":3,"sources":["/home/pat/Desktop/penny_stocks/web/src/cards/CardPageVisits.js"],"names":["React","useEffect","useReducer","initialState","historyDataArray","dataArray","reducer","state","action","type","historyData","arr","Set","Error","CardPageVisits","props","dispatch","p","push","formatData","console","log","undefined","dat","length","pop","i","getData","getHighLow","time","dats","slice","high","low","parseFloat","Math","round","res","price","ao","date","tick","percent","b","year","sixM","threeM","month","c","result"],"mappings":"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","sourcesContent":["import React, {useEffect, useReducer} from \"react\";\n\nconst initialState = {\n  historyDataArray: [],\n  dataArray: [],\n};\nconst reducer = (state, action) => {\n  switch (action.type) {\n    case 'addHistoryData': return {...state, historyData: action.arr};\n    case 'addNewTick': return {...state, dataArray: action.arr};\n    case 'removeDoubles': return {...state, dataArray: [...new Set(state.dataArray)]}\n    default: throw new Error('Unexpected action');\n  }\n};\n\nexport default function CardPageVisits(props) {\n  const [state, dispatch] = useReducer(reducer, initialState);\n\n  useEffect(() => {\n    const p = state.historyDataArray;\n    dispatch({ type: 'addHistoryData', arr: p.push(props.historyData)});\n    formatData();\n  }, [props.historyData]);\n  useEffect(() => {\n    console.log('arrrrrrrrrrrrrray', state.dataArray)\n  }, [state])\n  function formatData(){\n    if(state.historyDataArray !== undefined){\n      const arr = [];\n      //dispatch({ type: 'removeDoubles' })\n      const dat = state.historyDataArray;\n      //unusual, i cant pop the empty array that apperates out of nowhere??\n      if(dat[0].length === 0){\n        dat.pop(0);\n      };\n      for(let i=0;i<dat.length;i++){\n        getData(dat[i])\n      }\n    };\n}\n  function getHighLow(arr,time){\n    console.log('hello', arr.length)\n    if(arr.length > time-1){\n      const dats = arr.slice(arr.length-time, arr.length-1);\n      let high = 0;\n      let low = 100;\n      for(let i=0;i<dats.length;i++){\n        if(parseFloat(dats[i]) > high){\n          high = Math.round(parseFloat(dats[i])*1000) / 1000\n        }\n        if(dats[i] < low){\n          low = (Math.round((parseFloat(dats[i]) *1000)))/1000\n        }\n      }\n      return `${high}/${low}`\n    } else return '0'\n  }\n  function getData(arr){\n    const res = state.dataArray;\n    const price =[];\n    const ao = [];\n    const date = [];\n    const tick = [];\n    const percent = [];\n    for(let b=0;b<arr.length;b++){\n      price.push(arr[b]['price']);\n      ao.push(arr[b]['ao']);\n      date.push(arr[b]['date']);\n      tick.push(arr[b]['name']);\n      percent.push(arr[b]['percent']);\n    };\n    const year = getHighLow(price, 365);\n    const sixM = getHighLow(price, 180);\n    const threeM = getHighLow(price, 90)\n    const month = getHighLow(price, 30)\n    const c = arr.length - 1\n    console.log(month,'yearrrsr')\n    const result = {'name': tick[c], 'price': price[c], 'ao': ao[c], 'percent': percent[c], 'date': date[c], 'month': month, 'year': year, 'sixM': sixM, 'threeM': threeM};\n    //res.push(result);\n    console.log('resssss', result);\n    if(result in res){}\n    res.push((result))\n    dispatch({ type: 'addNewTick', arr: res})\n  };\n  return (\n    <>\n      <div className=\"relative flex flex-col min-w-0 break-words bg-white w-full mb-6 shadow-lg rounded\">\n        <div className=\"rounded-t mb-0 px-4 py-3 border-0\">\n          <div className=\"flex flex-wrap items-center\">\n            <div className=\"relative w-full px-4 max-w-full flex-grow flex-1\">\n              <h3 className=\"font-semibold text-base text-gray-800\">\n                Page visits\n              </h3>\n            </div>\n            <div className=\"relative w-full px-4 max-w-full flex-grow flex-1 text-right\">\n              <button\n                className=\"bg-indigo-500 text-white active:bg-indigo-600 text-xs font-bold uppercase px-3 py-1 rounded outline-none focus:outline-none mr-1 mb-1 ease-linear transition-all duration-150\"\n                type=\"button\"\n              >\n                See all\n              </button>\n            </div>\n          </div>\n        </div>\n        <div className=\"block w-full overflow-x-auto\">\n          {/* Projects table */}\n          <table className=\"items-center w-full bg-transparent border-collapse\">\n            <thead>\n              <tr>\n                <th className=\"px-6 bg-gray-100 text-gray-600 align-middle border border-solid border-gray-200 py-3 text-xs uppercase border-l-0 border-r-0 whitespace-no-wrap font-semibold text-left\">\n                  Page name\n                </th>\n                <th className=\"px-6 bg-gray-100 text-gray-600 align-middle border border-solid border-gray-200 py-3 text-xs uppercase border-l-0 border-r-0 whitespace-no-wrap font-semibold text-left\">\n                  Visitors\n                </th>\n                <th className=\"px-6 bg-gray-100 text-gray-600 align-middle border border-solid border-gray-200 py-3 text-xs uppercase border-l-0 border-r-0 whitespace-no-wrap font-semibold text-left\">\n                  Unique users\n                </th>\n                <th className=\"px-6 bg-gray-100 text-gray-600 align-middle border border-solid border-gray-200 py-3 text-xs uppercase border-l-0 border-r-0 whitespace-no-wrap font-semibold text-left\">\n                  Bounce rate\n                </th>\n              </tr>\n            </thead>\n            <tbody>\n              <tr>\n                <th className=\"border-t-0 px-6 align-middle border-l-0 border-r-0 text-xs whitespace-no-wrap p-4 text-left\">\n                  /argon/\n                </th>\n                <td className=\"border-t-0 px-6 align-middle border-l-0 border-r-0 text-xs whitespace-no-wrap p-4\">\n                  4,569\n                </td>\n                <td className=\"border-t-0 px-6 align-middle border-l-0 border-r-0 text-xs whitespace-no-wrap p-4\">\n                  340\n                </td>\n                <td className=\"border-t-0 px-6 align-middle border-l-0 border-r-0 text-xs whitespace-no-wrap p-4\">\n                  <i className=\"fas fa-arrow-up text-green-500 mr-4\"></i>\n                  46,53%\n                </td>\n              </tr>\n              <tr>\n                <th className=\"border-t-0 px-6 align-middle border-l-0 border-r-0 text-xs whitespace-no-wrap p-4 text-left\">\n                  /argon/index.html\n                </th>\n                <td className=\"border-t-0 px-6 align-middle border-l-0 border-r-0 text-xs whitespace-no-wrap p-4\">\n                  3,985\n                </td>\n                <td className=\"border-t-0 px-6 align-middle border-l-0 border-r-0 text-xs whitespace-no-wrap p-4\">\n                  319\n                </td>\n                <td className=\"border-t-0 px-6 align-middle border-l-0 border-r-0 text-xs whitespace-no-wrap p-4\">\n                  <i className=\"fas fa-arrow-down text-orange-500 mr-4\"></i>\n                  46,53%\n                </td>\n              </tr>\n              <tr>\n                <th className=\"border-t-0 px-6 align-middle border-l-0 border-r-0 text-xs whitespace-no-wrap p-4 text-left\">\n                  /argon/charts.html\n                </th>\n                <td className=\"border-t-0 px-6 align-middle border-l-0 border-r-0 text-xs whitespace-no-wrap p-4\">\n                  3,513\n                </td>\n                <td className=\"border-t-0 px-6 align-middle border-l-0 border-r-0 text-xs whitespace-no-wrap p-4\">\n                  294\n                </td>\n                <td className=\"border-t-0 px-6 align-middle border-l-0 border-r-0 text-xs whitespace-no-wrap p-4\">\n                  <i className=\"fas fa-arrow-down text-orange-500 mr-4\"></i>\n                  36,49%\n                </td>\n              </tr>\n              <tr>\n                <th className=\"border-t-0 px-6 align-middle border-l-0 border-r-0 text-xs whitespace-no-wrap p-4 text-left\">\n                  /argon/tables.html\n                </th>\n                <td className=\"border-t-0 px-6 align-middle border-l-0 border-r-0 text-xs whitespace-no-wrap p-4\">\n                  2,050\n                </td>\n                <td className=\"border-t-0 px-6 align-middle border-l-0 border-r-0 text-xs whitespace-no-wrap p-4\">\n                  147\n                </td>\n                <td className=\"border-t-0 px-6 align-middle border-l-0 border-r-0 text-xs whitespace-no-wrap p-4\">\n                  <i className=\"fas fa-arrow-up text-green-500 mr-4\"></i>\n                  50,87%\n                </td>\n              </tr>\n              <tr>\n                <th className=\"border-t-0 px-6 align-middle border-l-0 border-r-0 text-xs whitespace-no-wrap p-4 text-left\">\n                  /argon/profile.html\n                </th>\n                <td className=\"border-t-0 px-6 align-middle border-l-0 border-r-0 text-xs whitespace-no-wrap p-4\">\n                  1,795\n                </td>\n                <td className=\"border-t-0 px-6 align-middle border-l-0 border-r-0 text-xs whitespace-no-wrap p-4\">\n                  190\n                </td>\n                <td className=\"border-t-0 px-6 align-middle border-l-0 border-r-0 text-xs whitespace-no-wrap p-4\">\n                  <i className=\"fas fa-arrow-down text-red-500 mr-4\"></i>\n                  46,53%\n                </td>\n              </tr>\n            </tbody>\n          </table>\n        </div>\n      </div>\n    </>\n  );\n}\n"]},"metadata":{},"sourceType":"module"}